\begin{figure}[t]
  \small  % Adjust font size
  \begin{align*}
  &\pre(\text{do-team-extra-curricular-n}) = \\
  &\quad \text{takes-course}(\text{?s}, \text{?c}, \text{?l}) \land \\
  &\quad \text{grade a}(\text{?s}, \text{?c}, \text{?l}) \land \\
  &\quad \lnot \text{done-extra-curricular}(\text{ec-n}, \text{?s}, \text{?c}, \text{?l}) \land \\
  &\quad \text{study-group}(\text{?c}, \text{?l}) \land \\
  &\quad \text{uses-strategy}(\text{?s}, \text{teamwork}) \land \\
  &\quad \text{done-extra-curricular}(\text{ec-(n-1)}, \text{?s}, \text{?c}, \text{?l}) \\
  &\eff(\text{do-team-extra-curricular-n}) = \\
  &\quad \text{done-extra-curricular}(\text{ec-n}, \text{?s}, \text{?c}, \text{?l})
  \end{align*}
  \caption{Logical formalisation of the PDDL action for a student doing the $n$th extracurricular activity as part of a team}\label{fig:team-extra-curricular-n}
\end{figure}